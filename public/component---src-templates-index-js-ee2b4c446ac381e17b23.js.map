{"version":3,"sources":["webpack:///./src/templates/index.js","webpack:///./node_modules/core-js/modules/_create-property.js","webpack:///./node_modules/core-js/modules/es6.array.from.js","webpack:///./src/components/Pagination.js","webpack:///./src/components/SectionTitle.js","webpack:///./src/components/Article.js"],"names":["__webpack_exports__","default","_ref","pageContext","group","pageProps","index","first","last","pageCount","pathPrefix","react__WEBPACK_IMPORTED_MODULE_0___default","a","createElement","_components_Wrapper__WEBPACK_IMPORTED_MODULE_2__","_components_SectionTitle__WEBPACK_IMPORTED_MODULE_4__","map","_ref2","post","node","_post$frontmatter","frontmatter","title","date","category","cover","tags","_components_Article__WEBPACK_IMPORTED_MODULE_1__","excerpt","slug","fields","key","_components_Pagination__WEBPACK_IMPORTED_MODULE_3__","$defineProperty","__webpack_require__","createDesc","module","exports","object","value","f","ctx","$export","toObject","call","isArrayIter","toLength","createProperty","getIterFn","S","F","iter","Array","from","arrayLike","length","result","step","iterator","O","C","this","aLen","arguments","mapfn","mapping","iterFn","next","done","Container","styled_components__WEBPACK_IMPORTED_MODULE_4__","div","withConfig","displayName","Pagination","props","_this","_React$PureComponent","currePage","react__WEBPACK_IMPORTED_MODULE_2___default","createRef","componentDidMount","current","scrollIntoView","block","inline","render","_this2","_this$props","prefix","firstUrl","lastUrl","offset","Math","min","pages","v","k","className","gatsby__WEBPACK_IMPORTED_MODULE_3__","to","PageContainer","page","Pager","domRef","plaintext","url","text","t","PureComponent","ref","Title","theme","dark","children","Post","styled_components__WEBPACK_IMPORTED_MODULE_1__","article","h2","Object","polished__WEBPACK_IMPORTED_MODULE_2__","Initiale","span","Cover","Excerpt","p","firstChar","charAt","_Subline__WEBPACK_IMPORTED_MODULE_6__","_utils_fun__WEBPACK_IMPORTED_MODULE_5__","b","lodash_kebabCase__WEBPACK_IMPORTED_MODULE_4___default","tag","onClick","src","alt"],"mappings":"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","file":"component---src-templates-index-js-ee2b4c446ac381e17b23.js","sourcesContent":["import React from 'react';\n// import { Link } from \"gatsby\";\nimport Article from '../components/Article';\nimport Wrapper from '../components/Wrapper';\nimport Pagination from '../components/Pagination';\nimport SectionTitle from '../components/SectionTitle';\n\nconst IndexPage = ({ pageContext }) => {\n  // console.log(pageContext);\n\n  const { group, index, first, last, pageCount, pathPrefix } = pageContext;\n  const pageProps = { index, first, last, pageCount, pathPrefix };\n\n  // const postEdges = props.data.allMarkdownRemark.edges;\n\n  return (\n    <Wrapper>\n      <SectionTitle>最新文章</SectionTitle>\n      {group.map(({ node: post }) => {\n        const { title, date, category, cover, tags } = post.frontmatter;\n        return (\n          <Article\n            title={title}\n            date={date}\n            excerpt={post.excerpt}\n            slug={post.fields.slug}\n            category={category}\n            tags={tags}\n            cover={cover}\n            key={post.fields.slug}\n          />\n        );\n      })}\n\n      <Pagination {...pageProps} />\n    </Wrapper>\n  );\n};\n\nexport default IndexPage;\n","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n","'use strict';\nvar ctx = require('./_ctx');\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar toLength = require('./_to-length');\nvar createProperty = require('./_create-property');\nvar getIterFn = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n    var O = toObject(arrayLike);\n    var C = typeof this == 'function' ? this : Array;\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var index = 0;\n    var iterFn = getIterFn(O);\n    var length, result, step, iterator;\n    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\n      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for (result = new C(length); length > index; index++) {\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n","import React from 'react';\nimport { Link } from \"gatsby\";\nimport styled from 'styled-components';\n\nconst Container = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  .first,\n  .last {\n    border: 1px solid #666;\n    padding: 0.2rem 0.4rem;\n    border-radius: 0.4rem;\n  }\n`;\n\nexport default class Pagination extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.currePage = React.createRef();\n  }\n\n  componentDidMount() {\n    if (this.currePage.current) {\n      this.currePage.current.scrollIntoView({ block: 'start', inline: 'center' });\n    }\n  }\n  render() {\n    const { index, first, last, pageCount, pathPrefix } = this.props;\n    const prefix = pathPrefix === '' ? '' : `/${pathPrefix}`;\n    const firstUrl = `${prefix}`;\n    const lastUrl = `${prefix}/${pageCount}`;\n    const offset = Math.min(2, index);\n    const pages = Array.from({ length: pageCount - 1 }, (v, k) => k + offset);\n    return (\n      <Container>\n        {!first && (\n          <div className=\"first\">\n            <Link to={firstUrl}>首页</Link>\n          </div>\n        )}\n        <PageContainer>\n          {pages.map(page => (\n            <Pager\n              key={`${page}ye`}\n              domRef={this.currePage}\n              plaintext={page === index}\n              url={`${prefix}/${page}`}\n              text={page}\n            />\n          ))}\n        </PageContainer>\n        {!last && (\n          <div className=\"last\">\n            <Link to={lastUrl}>末页</Link>\n          </div>\n        )}\n      </Container>\n    );\n  }\n}\n\nconst PageContainer = styled.div`\n  margin: 0 1rem;\n  max-width: 50vw;\n  overflow-x: scroll;\n  white-space: nowrap;\n  height: 100%;\n  a {\n    display: inline-block;\n    margin: 0 0.2rem;\n    padding: 0.2rem 0.4rem;\n    border: 1px solid #333;\n    border-radius: 0.4rem;\n  }\n  span {\n    padding: 0.4rem;\n    color: #999;\n  }\n`;\nconst Pager = props => {\n  if (!props.plaintext) {\n    return <Link to={props.url}>{props.text}</Link>;\n  }\n  return <span ref={props.domRef}>{props.text}</span>;\n};\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst Title = styled.div`\n  font-size: 1.2rem;\n  font-weight: bold;\n  text-align: center;\n  color: ${props => props.theme.dark};\n  margin-bottom: 0.8rem;\n`;\n\nconst SectionTitle = props => <Title>{props.children}</Title>;\n\nexport default SectionTitle;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { ellipsis } from 'polished';\nimport { Link, push } from 'gatsby';\nimport kebabCase from 'lodash/kebabCase';\nimport { getYMD } from '../utils/fun';\n\nimport Subline from './Subline';\n\nconst Post = styled.article`\n  display: flex;\n  flex-direction: column;\n  margin: 1rem 0;\n  position: relative;\n`;\n\nconst Title = styled.h2`\n  text-shadow: 0 12px 30px rgba(0, 0, 0, 0.15);\n  margin-bottom: 0.8rem;\n  ${ellipsis()};\n`;\n\nconst Initiale = styled.span`\n  position: absolute;\n  left: 0.1rem;\n  top: 0.2rem;\n  font-weight: 700;\n  font-size: 2rem;\n  transform: translate(-50%, -50%);\n  opacity: 0.08;\n  user-select: none;\n`;\nconst Container = styled.div`\n  margin-top: 0.6rem;\n  cursor: pointer;\n`;\nconst Cover = styled.div`\n  margin-bottom: 0.5rem;\n  width: 100%;\n  max-height: 18rem;\n  overflow-y: scroll;\n  -webkit-overflow-scrolling: touch;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  img {\n    margin-bottom: 0;\n    width: 100%;\n  }\n`;\nconst Excerpt = styled.p``;\n\nconst Article = ({ title, date, excerpt, slug, category, tags, cover }) => {\n  const firstChar = title.charAt(1) || title.charAt(0);\n  return (\n    <Post>\n      <Initiale>{firstChar}</Initiale>\n      <Title>\n        <Link to={slug} title={title}>\n          {title}\n        </Link>\n      </Title>\n      <Subline>\n        {date && <span>{getYMD(date)} </span>}\n        {category && (\n          <span>\n            <Link to={`/cates/${kebabCase(category)}`}>{category}</Link>\n          </span>\n        )}\n        {tags && (\n          <span>\n            <span className=\"tags\">\n              {tags.map(tag => (\n                <Link key={`${kebabCase(tag)}`} className=\"tag\" to={`/tags/${kebabCase(tag)}`}>\n                  {tag}\n                </Link>\n              ))}\n            </span>\n          </span>\n        )}\n      </Subline>\n      <Container onClick={() => push(slug)}>\n        {cover && (\n          <Cover>\n            <img src={cover} alt={title} title={title} />\n          </Cover>\n        )}\n        <Excerpt>{excerpt}</Excerpt>\n      </Container>\n    </Post>\n  );\n};\n\nexport default Article;\n"],"sourceRoot":""}