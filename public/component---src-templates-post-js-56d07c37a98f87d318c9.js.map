{"version":3,"sources":["webpack:///./src/components/SEO.js","webpack:///./src/components/TOC.js","webpack:///./src/components/PostContent.js","webpack:///./src/templates/post.js","webpack:///./config/SiteConfig.js","webpack:///./src/components/Comment.js","webpack:///./node_modules/core-js/modules/_flags.js","webpack:///./node_modules/core-js/modules/es6.regexp.flags.js","webpack:///./node_modules/core-js/modules/es6.regexp.to-string.js"],"names":["components_SEO","props","title","description","image","postURL","frontmatter","postPath","postSEO","excerpt","realPrefix","SiteConfig_default","a","pathPrefix","siteBanner","siteUrl","siteTitle","siteDescription","blogURL","schemaOrgJSONLD","@context","@type","url","name","alternateName","siteTitleAlt","push","itemListElement","position","item","@id","headline","react_default","createElement","Helmet_default","content","type","JSON","stringify","property","ogSiteName","Toc","styled_components_browser_es","div","withConfig","displayName","fold","TOC_TOC","TOC","_this","_Component","call","this","onClickHandler","state","setState","handleContentClick","_ref","target","nodeName","render","toc","Fragment","className","onClick","onKeyDown","dangerouslySetInnerHTML","__html","t","react","Component","x","n","v","Container","article","media","phoneWide","desktop","PostContent_PostContent","PostContent","addCopyListener","document","querySelector","addEventListener","window","getSelection","selection","toString","length","newdiv","style","left","body","appendChild","getRangeAt","cloneContents","commonAncestorContainer","innerHTML","_url","location","href","replace","hash","selectAllChildren","setTimeout","removeChild","postBlock","createRef","componentDidMount","id","ref","w","N","Title","h2","ArticleNav","__webpack_exports__","default","_props$pageContext","pageContext","slug","prev","next","html","tableOfContents","date","tags","category","tocComponent","disqusConfig","identifier","Wrapper","Subline","Object","fun","b","Date","gatsby_browser_entry","to","kebabCase_default","map","tag","key","fields","Comment","config","Navs","isBottom","257","e","module","exports","siteName","siteLanguage","siteLogo","siteFBAppID","userTwitter","themeColor","backgroundColor","fontFamily","baseFontSize","279","d","s","r","o","i","l","_this$props","shortname","react__WEBPACK_IMPORTED_MODULE_1___default","disqus_react__WEBPACK_IMPORTED_MODULE_2__","DiscussionEmbed","react__WEBPACK_IMPORTED_MODULE_1__","282","anObject","__webpack_require__","that","result","global","ignoreCase","multiline","unicode","sticky","flags","f","RegExp","prototype","configurable","get","318","$flags","DESCRIPTORS","$toString","define","fn","source","R","concat"],"mappings":"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","file":"component---src-templates-post-js-56d07c37a98f87d318c9.js","sourcesContent":["import React from 'react';\nimport Helmet from 'react-helmet';\nimport config from '../../config/SiteConfig';\n\nconst SEO = props => {\n  const { frontmatter, postPath, postSEO, excerpt } = props;\n  let title;\n  let description;\n  let image;\n  let postURL;\n  const realPrefix = config.pathPrefix === '/' ? '' : config.pathPrefix;\n  if (postSEO) {\n    const postMeta = frontmatter;\n    title = postMeta.title; // eslint-disable-line prefer-destructuring\n    description = excerpt;\n    image = config.siteBanner;\n    postURL = config.siteUrl + realPrefix + postPath;\n  } else {\n    title = config.siteTitle;\n    description = config.siteDescription;\n    image = config.siteBanner;\n  }\n  image = config.siteUrl + realPrefix + image;\n  const blogURL = config.siteUrl + config.pathPrefix;\n  const schemaOrgJSONLD = [\n    {\n      '@context': 'http://schema.org',\n      '@type': 'WebSite',\n      url: blogURL,\n      name: title,\n      alternateName: config.siteTitleAlt ? config.siteTitleAlt : '',\n    },\n  ];\n  if (postSEO) {\n    schemaOrgJSONLD.push([\n      {\n        '@context': 'http://schema.org',\n        '@type': 'BreadcrumbList',\n        itemListElement: [\n          {\n            '@type': 'ListItem',\n            position: 1,\n            item: {\n              '@id': postURL,\n              name: title,\n              image,\n            },\n          },\n        ],\n      },\n      {\n        '@context': 'http://schema.org',\n        '@type': 'BlogPosting',\n        url: blogURL,\n        name: title,\n        alternateName: config.siteTitleAlt ? config.siteTitleAlt : '',\n        headline: title,\n        image: {\n          '@type': 'ImageObject',\n          url: image,\n        },\n        description,\n      },\n    ]);\n  }\n  return (\n    <Helmet>\n      <title>{config.siteTitle}</title>\n      <meta name=\"description\" content={description} />\n      <meta name=\"keywords\" content=\"tristan yang, blog, writing, frontend\" />\n      <meta name=\"image\" content={image} />\n      <script type=\"application/ld+json\">{JSON.stringify(schemaOrgJSONLD)}</script>\n      <meta property=\"og:locale\" content=\"zh_CN\" />\n      <meta property=\"og:site_name\" content={config.ogSiteName} />\n      <meta property=\"og:url\" content={postSEO ? postURL : blogURL} />\n      {postSEO ? <meta property=\"og:type\" content=\"article\" /> : null}\n      <meta property=\"og:title\" content={title} />\n      <meta property=\"og:description\" content={description} />\n      <meta property=\"og:image\" content={image} />\n    </Helmet>\n  );\n};\n\nexport default SEO;\n","import React, { Component } from 'react';\nimport styled from 'styled-components';\n\nconst Toc = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  z-index: 999;\n  .mask {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: rgba(0, 0, 0, 0.5);\n    display: ${props => (props.fold ? 'none' : 'block')};\n    z-index: 998;\n  }\n  button {\n    display: flex;\n    flex-direction: column;\n    width: 2rem;\n    height: 2rem;\n    border: 1px solid #ddd;\n    padding: 0.2rem;\n    align-items: center;\n    justify-content: center;\n    border-radius: 0.5rem;\n    position: relative;\n    cursor: pointer;\n    background: #eee;\n    z-index: 999;\n    &:focus {\n      outline: none;\n    }\n    .line {\n      background: #333;\n      display: inline-block;\n      width: 1rem;\n      height: 0.1rem;\n      margin: 0.09rem 0;\n    }\n    &.unfold .line {\n      display: none;\n    }\n    &.unfold:before,\n    &.unfold:after {\n      content: '';\n      position: absolute;\n      height: 1rem;\n      width: 0.1rem;\n      top: 50%;\n      right: 50%;\n      background: #333;\n      margin-right: -0.05rem;\n      margin-top: -0.5rem;\n    }\n    &.unfold:before {\n      transform: rotate(45deg);\n    }\n    &.unfold:after {\n      transform: rotate(-45deg);\n    }\n  }\n  .content {\n    z-index: 999;\n    transform:translate3d(0,0,0);\n    padding: 0.6rem;\n    margin-bottom: 0.5rem;\n    border: 1px solid #ddd;\n    background: #eee;\n    border-radius: 0.5rem;\n    display: ${props => (props.fold ? 'none' : 'block')};\n    max-height: 70vh;\n    overflow: scroll;\n    ul {\n      list-style: none;\n      margin: 0.4rem 0;\n      li {\n        padding: 0;\n        margin: 0.4rem 0;\n      }\n      ul {\n        font-size: 0.8rem;\n        margin-left: 0.4rem;\n      }\n    }\n  }\n`;\n\nexport default class TOC extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      fold: true,\n    };\n    // this.contentBlock = React.createRef();\n    // this.maskBtn = React.createRef();\n  }\n  // componentDidMount() {\n  //   const links = this.contentBlock.current.querySelectorAll('a');\n  //   const maskBtn = this.maskBtn.current;\n  //   addEventListenerList(links, 'click', evt => {\n  //     maskBtn.click();\n  //   });\n  // }\n  // componentWillUnmount() {\n  //   const links = this.contentBlock.current.querySelectorAll('a');\n  //   removeEventListenerList(links, 'click');\n  // }\n  onClickHandler = () => {\n    const { fold } = this.state;\n    this.setState({\n      fold: !fold,\n    });\n  };\n  handleContentClick = ({ target }) => {\n    if (target.nodeName === 'A') {\n      this.setState({\n        fold: true,\n      });\n    }\n  };\n  render() {\n    const { toc } = this.props;\n    return (\n      <Toc fold={this.state.fold}>\n        <React.Fragment>\n          <div className=\"mask\" onClick={this.onClickHandler} onKeyDown={this.onClickHandler} />\n          <div className=\"content\" dangerouslySetInnerHTML={{ __html: toc }} onClick={this.handleContentClick} />\n          <button className={`btn ${this.state.fold ? 'fold' : 'unfold'}`} onClick={this.onClickHandler}>\n            <span className=\"line\" />\n            <span className=\"line\" />\n            <span className=\"line\" />\n          </button>\n        </React.Fragment>\n      </Toc>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport styled from 'styled-components';\nimport { media } from '../utils/media';\n\nconst Container = styled.article`\n  margin-top: 2rem;\n  a {\n    text-decoration: underline;\n  }\n  h1 {\n    font-size: 1.6rem;\n  }\n  h2 {\n    font-size: 1.2rem;\n  }\n  p img {\n    display: block;\n    margin: 0 auto;\n    padding: 1.6rem 0;\n    transform: scale(1.14);\n  }\n  @media ${media.phoneWide} {\n    p img {\n      padding: 1.7rem 0;\n      transform: scale(1.1);\n    }\n  }\n  @media ${media.desktop} {\n    p img {\n      padding: 0;\n      transform: scale(1);\n    }\n  }\n`;\nexport default class PostContent extends Component {\n  constructor(props) {\n    super(props);\n\n    this.postBlock = React.createRef();\n  }\n\n  componentDidMount() {\n    this.addCopyListener();\n  }\n  addCopyListener = () => {\n    const postBlock = document.querySelector('#postContent');\n    //   console.log(postBlock);\n    postBlock.addEventListener(\n      'copy',\n      () => {\n        if (typeof window.getSelection === 'undefined') return; // IE8 or earlier...\n\n        const selection = window.getSelection();\n\n        // 复制内容过短的话，就不追加内容了\n        if (selection.toString().length < 30) return;\n\n        // 动态创建元素，并将复制的内容填入\n        const newdiv = document.createElement('div');\n        newdiv.style.position = 'absolute';\n        newdiv.style.left = '-99999px';\n        document.body.appendChild(newdiv);\n        newdiv.appendChild(selection.getRangeAt(0).cloneContents());\n\n        // 遇到 pre 标签需要特殊处理一下，否则换行将被清除\n        if (selection.getRangeAt(0).commonAncestorContainer.nodeName === 'PRE') {\n          newdiv.innerHTML = `<pre>${newdiv.innerHTML}</pre>`;\n        }\n        const _url = document.location.href.replace(document.location.hash, \"\");\n        newdiv.innerHTML += `<br /><br />作者：杨二 <br />微信：yanggc_2013 <br />链接：<a href='${\n          _url\n          }'>${_url}</a> <br />著作权归作者所有，商业转载请联系作者获得授权，非商业转载请注明出处。`;\n\n        selection.selectAllChildren(newdiv);\n        window.setTimeout(() => {\n          document.body.removeChild(newdiv);\n        }, 200);\n      },\n      false\n    );\n  };\n  render() {\n    const { content } = this.props;\n    return <Container id=\"postContent\" ref={this.postBlock} dangerouslySetInnerHTML={{ __html: content }} />;\n  }\n}\n","import React from 'react';\nimport Helmet from 'react-helmet';\nimport { Link } from \"gatsby\";\nimport styled from 'styled-components';\nimport kebabCase from 'lodash/kebabCase';\nimport SEO from '../components/SEO';\nimport Wrapper from '../components/Wrapper';\nimport Subline from '../components/Subline';\nimport TOC from '../components/TOC';\nimport Comment from '../components/Comment';\nimport PostContent from '../components/PostContent';\nimport Navs from '../components/Navs';\nimport { getYMD } from '../utils/fun';\nimport { media } from '../utils/media';\n\nimport config from '../../config/SiteConfig';\nimport '../utils/prismjs-theme.css';\n\nconst Title = styled.h2`\n  margin-bottom: 1rem;\n`;\n\nconst ArticleNav = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  border-top: 1px solid #ddd;\n  padding-top: 0.8rem;\n  @media ${media.desktop} {\n    align-items: center;\n    flex-direction: row;\n  }\n  > a {\n    flex: 1;\n    position: relative;\n    color: #999;\n    padding: 0.5rem 0;\n    &:active {\n      background: #ddd;\n    }\n    &::after {\n      content: '';\n      position: absolute;\n      top: 50%;\n      margin-top: -0.5rem;\n      width: 0;\n      height: 0;\n      border-top: 0.5rem solid transparent;\n      border-bottom: 0.5rem solid transparent;\n    }\n    &.prev::after {\n      left: -1rem;\n      border-right: 0.5rem solid #999;\n    }\n    &.next {\n      text-align: right;\n      &::after {\n        right: -1rem;\n        border-left: 0.5rem solid #999;\n      }\n    }\n  }\n`;\nconst Post = props => {\n  // console.log(props);\n  const { slug, prev, next, html, tableOfContents: toc, frontmatter, excerpt } = props.pageContext;\n  const { title, date, tags, category } = frontmatter;\n  const tocComponent = (toc && <TOC toc={toc} />) || null;\n  // const disqusShortname = \"blog-yangerxiao-com\";\n  const disqusConfig = {\n    url: `https://blog.yangerxiao.com/${slug}`,\n    identifier: slug,\n    title\n  };\n  return (\n    <Wrapper toc={tocComponent}>\n      <SEO postPath={slug} excerpt={excerpt} frontmatter={frontmatter} postSEO />\n      <Helmet title={`${title} | ${config.siteTitle}`} />\n      <Title>{title}</Title>\n      <Subline>\n        {date && <span>{getYMD(new Date(date))} </span>}\n        {category && (\n          <span>\n            <Link to={`/cates/${kebabCase(category)}`}>{category}</Link>\n          </span>\n        )}\n        {tags && (\n          <span>\n            <span className=\"tags\">\n              {tags.map(tag => (\n                <Link key={`${kebabCase(tag)}`} className=\"tag\" to={`/tags/${kebabCase(tag)}`}>\n                  {tag}\n                </Link>\n              ))}\n            </span>\n          </span>\n        )}\n      </Subline>\n\n      <PostContent content={html} />\n      <ArticleNav>\n        {prev && <Link to={prev.fields.slug} className=\"prev\">{`${prev.frontmatter.title}`}</Link>}\n        {next && <Link to={next.fields.slug} className=\"next\">{`${next.frontmatter.title}`}</Link>}\n      </ArticleNav>\n      <Comment config={disqusConfig} />\n      <Navs isBottom />\n    </Wrapper>\n  );\n};\n\nexport default Post;\n","module.exports = {\n  pathPrefix: '/', // Prefix for all links. If you deploy your site to example.com/portfolio your pathPrefix should be \"portfolio\"\n\n  siteName: '杨二', // Navigation and Site Title\n  siteTitle: '杨二', // Navigation and Site Title\n  siteTitleAlt: '杨二的个人博客', // Alternative Site title for SEO\n  siteUrl: 'https://blog.yangerxiao.com', // Domain of your site. No trailing slash!\n  siteLanguage: 'zh', // Language Tag on <html> element\n  siteLogo: '/logos/logo-1024.png', // Used for SEO and manifest\n  siteBanner: '/social/banner.jpg',\n  siteDescription: '记录生活，见证成长。',\n\n  siteFBAppID: '123456789', // Facebook App ID\n  userTwitter: 'minimal', // Twitter Username\n  ogSiteName: 'Tristan Yang', // Facebook Site Name\n\n  // Manifest and Progress color\n  // themeColor: '#3498DB',\n  themeColor: '#090a0b',\n  backgroundColor: '#060809',\n\n  // Settings for typography.js\n  fontFamily: ['Microsoft YaHei', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'sans-serif'],\n  baseFontSize: '18px',\n};\n","import React, { Component } from 'react'\nimport { DiscussionEmbed } from \"disqus-react\";\n\n\nexport default class Comment extends Component {\n    render() {\n        const { shortname, config } = this.props;\n        return (\n            <DiscussionEmbed shortname={`blog-yangerxiao-com`} config={config} />\n        )\n    }\n}\n","'use strict';\n// 21.2.5.3 get RegExp.prototype.flags\nvar anObject = require('./_an-object');\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","// 21.2.5.3 get RegExp.prototype.flags()\nif (require('./_descriptors') && /./g.flags != 'g') require('./_object-dp').f(RegExp.prototype, 'flags', {\n  configurable: true,\n  get: require('./_flags')\n});\n","'use strict';\nrequire('./es6.regexp.flags');\nvar anObject = require('./_an-object');\nvar $flags = require('./_flags');\nvar DESCRIPTORS = require('./_descriptors');\nvar TO_STRING = 'toString';\nvar $toString = /./[TO_STRING];\n\nvar define = function (fn) {\n  require('./_redefine')(RegExp.prototype, TO_STRING, fn, true);\n};\n\n// 21.2.5.14 RegExp.prototype.toString()\nif (require('./_fails')(function () { return $toString.call({ source: 'a', flags: 'b' }) != '/a/b'; })) {\n  define(function toString() {\n    var R = anObject(this);\n    return '/'.concat(R.source, '/',\n      'flags' in R ? R.flags : !DESCRIPTORS && R instanceof RegExp ? $flags.call(R) : undefined);\n  });\n// FF44- RegExp#toString has a wrong name\n} else if ($toString.name != TO_STRING) {\n  define(function toString() {\n    return $toString.call(this);\n  });\n}\n"],"sourceRoot":""}