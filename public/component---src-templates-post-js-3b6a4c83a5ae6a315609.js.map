{"version":3,"sources":["webpack:///./src/components/SEO.js","webpack:///./src/components/TOC.js","webpack:///./src/components/PostContent.js","webpack:///./src/templates/post.js","webpack:///./src/utils/media.js","webpack:///./src/utils/fun.js","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./.cache/public-page-renderer.js","webpack:///./config/SiteConfig.js","webpack:///./src/components/Header.js","webpack:///./src/components/Backtop.js","webpack:///./src/components/FixContainer.js","webpack:///./src/components/Footer.js","webpack:///./src/components/ReadHistory.js","webpack:///./src/components/Wrapper.js","webpack:///./src/components/Button.js","webpack:///./src/components/Navs.js","webpack:///./src/components/Subline.js","webpack:///./.cache/public-page-renderer-prod.js"],"names":["components_SEO","props","title","description","image","postURL","frontmatter","postPath","postSEO","excerpt","realPrefix","SiteConfig_default","a","pathPrefix","siteBanner","siteUrl","siteTitle","siteDescription","blogURL","schemaOrgJSONLD","@context","@type","url","name","alternateName","siteTitleAlt","push","itemListElement","position","item","@id","headline","react_default","createElement","Helmet_default","content","type","JSON","stringify","property","ogSiteName","Toc","styled_components_browser_es","div","withConfig","displayName","fold","TOC_TOC","TOC","_this","_Component","call","this","onClickHandler","state","setState","handleContentClick","_ref","target","nodeName","render","toc","Fragment","className","onClick","onKeyDown","dangerouslySetInnerHTML","__html","t","react","Component","E","n","Container","article","media","phoneWide","desktop","PostContent_PostContent","PostContent","addCopyListener","document","querySelector","addEventListener","window","getSelection","selection","toString","length","newdiv","style","left","body","appendChild","getRangeAt","cloneContents","commonAncestorContainer","innerHTML","_url","location","href","replace","hash","selectAllChildren","setTimeout","removeChild","postBlock","createRef","componentDidMount","id","ref","k","N","Title","h2","ArticleNav","__webpack_exports__","default","_props$pageContext","pageContext","slug","prev","next","html","tableOfContents","date","tags","category","tocComponent","disqusConfig","identifier","Wrapper","Subline","Object","fun","b","Date","gatsby_browser_entry","to","kebabCase_default","map","tag","key","fields","lib","DiscussionEmbed","shortname","config","Navs","isBottom","254","e","__webpack_require__","d","sizes","phone","phoneMini","phoneSmall","phablet","tablet","tabletSmall","tabletWide","desktopWide","255","pad","getYMD","tmpDate","getFullYear","getMonth","getDate","Global","self","global","react__WEBPACK_IMPORTED_MODULE_0___default","createContext","prop_types__WEBPACK_IMPORTED_MODULE_1___default","object","string","isRequired","func","m","module","exports","siteName","siteLanguage","siteLogo","siteFBAppID","userTwitter","themeColor","backgroundColor","fontFamily","baseFontSize","260","r","i","o","l","s","Header_Wrapper","header","Hero","polished_es","components_Header","children","Circle","Backtop_Backtop","Backtop","handleScroll","componentWillUnmount","removeEventListener","doc","documentElement","v","pageYOffset","scrollTop","clientTop","offset","isVisible","scrollUp","c","requestAnimationFrame","scrollTo","bind","assertThisInitialized_default","visibility","propTypes","prop_types_default","number","defaultProps","right","bottom","FixContainer_FixContainer","components_FixContainer","C","Content","footer","components_Footer","_","S","ReadHistory_Container","expand","ReadHistory_ReadHistory","ReadHistory","hisList","histories","parse","localStorage","getItem","_this$props","ts","getTime","lodash_default","sortBy","uniqBy","slice","setItem","listHtml","history","current","join","Grid","Wrapper_Content","theme","bg","263","components_Button","Navs_Navs","container","pathName","pathname","querySelectorAll","forEach","link","indexOf","classList","add","nav","264","Line","light","sectionTitle","ProdPageRenderer","pageResources","_loader__WEBPACK_IMPORTED_MODULE_3__","getResourcesForPathname","_page_renderer__WEBPACK_IMPORTED_MODULE_2__","shape","333"],"mappings":"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","file":"component---src-templates-post-js-3b6a4c83a5ae6a315609.js","sourcesContent":["import React from 'react';\nimport Helmet from 'react-helmet';\nimport config from '../../config/SiteConfig';\n\nconst SEO = props => {\n  const { frontmatter, postPath, postSEO, excerpt } = props;\n  let title;\n  let description;\n  let image;\n  let postURL;\n  const realPrefix = config.pathPrefix === '/' ? '' : config.pathPrefix;\n  if (postSEO) {\n    const postMeta = frontmatter;\n    title = postMeta.title; // eslint-disable-line prefer-destructuring\n    description = excerpt;\n    image = config.siteBanner;\n    postURL = config.siteUrl + realPrefix + postPath;\n  } else {\n    title = config.siteTitle;\n    description = config.siteDescription;\n    image = config.siteBanner;\n  }\n  image = config.siteUrl + realPrefix + image;\n  const blogURL = config.siteUrl + config.pathPrefix;\n  const schemaOrgJSONLD = [\n    {\n      '@context': 'http://schema.org',\n      '@type': 'WebSite',\n      url: blogURL,\n      name: title,\n      alternateName: config.siteTitleAlt ? config.siteTitleAlt : '',\n    },\n  ];\n  if (postSEO) {\n    schemaOrgJSONLD.push([\n      {\n        '@context': 'http://schema.org',\n        '@type': 'BreadcrumbList',\n        itemListElement: [\n          {\n            '@type': 'ListItem',\n            position: 1,\n            item: {\n              '@id': postURL,\n              name: title,\n              image,\n            },\n          },\n        ],\n      },\n      {\n        '@context': 'http://schema.org',\n        '@type': 'BlogPosting',\n        url: blogURL,\n        name: title,\n        alternateName: config.siteTitleAlt ? config.siteTitleAlt : '',\n        headline: title,\n        image: {\n          '@type': 'ImageObject',\n          url: image,\n        },\n        description,\n      },\n    ]);\n  }\n  return (\n    <Helmet>\n      <title>{config.siteTitle}</title>\n      <meta name=\"description\" content={description} />\n      <meta name=\"keywords\" content=\"tristan yang, blog, writing, frontend\" />\n      <meta name=\"image\" content={image} />\n      <script type=\"application/ld+json\">{JSON.stringify(schemaOrgJSONLD)}</script>\n      <meta property=\"og:locale\" content=\"zh_CN\" />\n      <meta property=\"og:site_name\" content={config.ogSiteName} />\n      <meta property=\"og:url\" content={postSEO ? postURL : blogURL} />\n      {postSEO ? <meta property=\"og:type\" content=\"article\" /> : null}\n      <meta property=\"og:title\" content={title} />\n      <meta property=\"og:description\" content={description} />\n      <meta property=\"og:image\" content={image} />\n    </Helmet>\n  );\n};\n\nexport default SEO;\n","import React, { Component } from 'react';\nimport styled from 'styled-components';\n\nconst Toc = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  z-index: 999;\n  .mask {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: rgba(0, 0, 0, 0.5);\n    display: ${props => (props.fold ? 'none' : 'block')};\n    z-index: 998;\n  }\n  button {\n    display: flex;\n    flex-direction: column;\n    width: 2rem;\n    height: 2rem;\n    border: 1px solid #ddd;\n    padding: 0.2rem;\n    align-items: center;\n    justify-content: center;\n    border-radius: 0.5rem;\n    position: relative;\n    cursor: pointer;\n    background: #eee;\n    z-index: 999;\n    &:focus {\n      outline: none;\n    }\n    .line {\n      background: #333;\n      display: inline-block;\n      width: 1rem;\n      height: 0.1rem;\n      margin: 0.09rem 0;\n    }\n    &.unfold .line {\n      display: none;\n    }\n    &.unfold:before,\n    &.unfold:after {\n      content: '';\n      position: absolute;\n      height: 1rem;\n      width: 0.1rem;\n      top: 50%;\n      right: 50%;\n      background: #333;\n      margin-right: -0.05rem;\n      margin-top: -0.5rem;\n    }\n    &.unfold:before {\n      transform: rotate(45deg);\n    }\n    &.unfold:after {\n      transform: rotate(-45deg);\n    }\n  }\n  .content {\n    z-index: 999;\n    transform:translate3d(0,0,0);\n    padding: 0.6rem;\n    margin-bottom: 0.5rem;\n    border: 1px solid #ddd;\n    background: #eee;\n    border-radius: 0.5rem;\n    display: ${props => (props.fold ? 'none' : 'block')};\n    max-height: 70vh;\n    overflow: scroll;\n    ul {\n      list-style: none;\n      margin: 0.4rem 0;\n      li {\n        padding: 0;\n        margin: 0.4rem 0;\n      }\n      ul {\n        font-size: 0.8rem;\n        margin-left: 0.4rem;\n      }\n    }\n  }\n`;\n\nexport default class TOC extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      fold: true,\n    };\n    // this.contentBlock = React.createRef();\n    // this.maskBtn = React.createRef();\n  }\n  // componentDidMount() {\n  //   const links = this.contentBlock.current.querySelectorAll('a');\n  //   const maskBtn = this.maskBtn.current;\n  //   addEventListenerList(links, 'click', evt => {\n  //     maskBtn.click();\n  //   });\n  // }\n  // componentWillUnmount() {\n  //   const links = this.contentBlock.current.querySelectorAll('a');\n  //   removeEventListenerList(links, 'click');\n  // }\n  onClickHandler = () => {\n    const { fold } = this.state;\n    this.setState({\n      fold: !fold,\n    });\n  };\n  handleContentClick = ({ target }) => {\n    if (target.nodeName === 'A') {\n      this.setState({\n        fold: true,\n      });\n    }\n  };\n  render() {\n    const { toc } = this.props;\n    return (\n      <Toc fold={this.state.fold}>\n        <React.Fragment>\n          <div className=\"mask\" onClick={this.onClickHandler} onKeyDown={this.onClickHandler} />\n          <div className=\"content\" dangerouslySetInnerHTML={{ __html: toc }} onClick={this.handleContentClick} />\n          <button className={`btn ${this.state.fold ? 'fold' : 'unfold'}`} onClick={this.onClickHandler}>\n            <span className=\"line\" />\n            <span className=\"line\" />\n            <span className=\"line\" />\n          </button>\n        </React.Fragment>\n      </Toc>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport styled from 'styled-components';\nimport { media } from '../utils/media';\n\nconst Container = styled.article`\n  margin-top: 2rem;\n  a {\n    text-decoration: underline;\n  }\n  h1 {\n    font-size: 1.6rem;\n  }\n  h2 {\n    font-size: 1.2rem;\n  }\n  p img {\n    display: block;\n    margin: 0 auto;\n    padding: 1.6rem 0;\n    transform: scale(1.14);\n  }\n  @media ${media.phoneWide} {\n    p img {\n      padding: 1.7rem 0;\n      transform: scale(1.1);\n    }\n  }\n  @media ${media.desktop} {\n    p img {\n      padding: 0;\n      transform: scale(1);\n    }\n  }\n`;\nexport default class PostContent extends Component {\n  constructor(props) {\n    super(props);\n\n    this.postBlock = React.createRef();\n  }\n\n  componentDidMount() {\n    this.addCopyListener();\n  }\n  addCopyListener = () => {\n    const postBlock = document.querySelector('#postContent');\n    //   console.log(postBlock);\n    postBlock.addEventListener(\n      'copy',\n      () => {\n        if (typeof window.getSelection === 'undefined') return; // IE8 or earlier...\n\n        const selection = window.getSelection();\n\n        // 复制内容过短的话，就不追加内容了\n        if (selection.toString().length < 30) return;\n\n        // 动态创建元素，并将复制的内容填入\n        const newdiv = document.createElement('div');\n        newdiv.style.position = 'absolute';\n        newdiv.style.left = '-99999px';\n        document.body.appendChild(newdiv);\n        newdiv.appendChild(selection.getRangeAt(0).cloneContents());\n\n        // 遇到 pre 标签需要特殊处理一下，否则换行将被清除\n        if (selection.getRangeAt(0).commonAncestorContainer.nodeName === 'PRE') {\n          newdiv.innerHTML = `<pre>${newdiv.innerHTML}</pre>`;\n        }\n        const _url = document.location.href.replace(document.location.hash, \"\");\n        newdiv.innerHTML += `<br /><br />作者：杨二 <br />微信：yanggc_2013 <br />链接：<a href='${\n          _url\n          }'>${_url}</a> <br />著作权归作者所有，商业转载请联系作者获得授权，非商业转载请注明出处。`;\n\n        selection.selectAllChildren(newdiv);\n        window.setTimeout(() => {\n          document.body.removeChild(newdiv);\n        }, 200);\n      },\n      false\n    );\n  };\n  render() {\n    const { content } = this.props;\n    return <Container id=\"postContent\" ref={this.postBlock} dangerouslySetInnerHTML={{ __html: content }} />;\n  }\n}\n","import React from 'react';\nimport Helmet from 'react-helmet';\nimport { Link } from \"gatsby\";\nimport { DiscussionEmbed } from \"disqus-react\";\nimport styled from 'styled-components';\nimport kebabCase from 'lodash/kebabCase';\nimport SEO from '../components/SEO';\nimport Wrapper from '../components/Wrapper';\nimport Subline from '../components/Subline';\nimport TOC from '../components/TOC';\nimport PostContent from '../components/PostContent';\nimport Navs from '../components/Navs';\nimport { getYMD } from '../utils/fun';\nimport { media } from '../utils/media';\n\nimport config from '../../config/SiteConfig';\nimport '../utils/prismjs-theme.css';\n\nconst Title = styled.h2`\n  margin-bottom: 1rem;\n`;\n\nconst ArticleNav = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  border-top: 1px solid #ddd;\n  padding-top: 0.8rem;\n  @media ${media.desktop} {\n    align-items: center;\n    flex-direction: row;\n  }\n  > a {\n    flex: 1;\n    position: relative;\n    color: #999;\n    padding: 0.5rem 0;\n    &:active {\n      background: #ddd;\n    }\n    &::after {\n      content: '';\n      position: absolute;\n      top: 50%;\n      margin-top: -0.5rem;\n      width: 0;\n      height: 0;\n      border-top: 0.5rem solid transparent;\n      border-bottom: 0.5rem solid transparent;\n    }\n    &.prev::after {\n      left: -1rem;\n      border-right: 0.5rem solid #999;\n    }\n    &.next {\n      text-align: right;\n      &::after {\n        right: -1rem;\n        border-left: 0.5rem solid #999;\n      }\n    }\n  }\n`;\nconst Post = props => {\n  // console.log(props);\n  const { slug, prev, next, html, tableOfContents: toc, frontmatter, excerpt } = props.pageContext;\n  const { title, date, tags, category } = frontmatter;\n  const tocComponent = (toc && <TOC toc={toc} />) || null;\n  const disqusShortname = \"blog-yangerxiao-com\";\n  const disqusConfig = {\n    url: `https://blog.yangerxiao.com/${slug}`,\n    identifier: slug,\n    title\n  };\n  return (\n    <Wrapper toc={tocComponent}>\n      <SEO postPath={slug} excerpt={excerpt} frontmatter={frontmatter} postSEO />\n      <Helmet title={`${title} | ${config.siteTitle}`} />\n      <Title>{title}</Title>\n      <Subline>\n        {date && <span>{getYMD(new Date(date))} </span>}\n        {category && (\n          <span>\n            <Link to={`/cates/${kebabCase(category)}`}>{category}</Link>\n          </span>\n        )}\n        {tags && (\n          <span>\n            <span className=\"tags\">\n              {tags.map(tag => (\n                <Link key={`${kebabCase(tag)}`} className=\"tag\" to={`/tags/${kebabCase(tag)}`}>\n                  {tag}\n                </Link>\n              ))}\n            </span>\n          </span>\n        )}\n      </Subline>\n\n      <PostContent content={html} />\n      <ArticleNav>\n        {prev && <Link to={prev.fields.slug} className=\"prev\">{`${prev.frontmatter.title}`}</Link>}\n        {next && <Link to={next.fields.slug} className=\"next\">{`${next.frontmatter.title}`}</Link>}\n      </ArticleNav>\n      <DiscussionEmbed shortname={disqusShortname} config={disqusConfig} />\n      <Navs isBottom />\n    </Wrapper>\n  );\n};\n\nexport default Post;\n","const sizes = {\n  phoneMini: '320px',\n  phoneSmall: '360px',\n  phone: '375px',\n  phoneWide: '384px',\n  phablet: '414px',\n  tabletSmall: '480px',\n  tablet: '640px',\n  tabletWide: '750px',\n  desktop: '900px',\n  desktopWide: '1200px',\n};\nexport const media = {\n  phone: `(min-width: ${sizes.phoneMini}`,\n  phoneMini: `(min-width: ${sizes.phoneMini})`,\n  phoneSmall: `(min-width: ${sizes.phoneSmall})`,\n  phoneWide: `(min-width: ${sizes.phoneWide})`,\n  phablet: `(min-width: ${sizes.phablet})`,\n  tablet: `(min-width: ${sizes.tabletSmall})`,\n  tabletSmall: `(min-width: ${sizes.tabletSmall})`,\n  tabletWide: `(min-width: ${sizes.tabletWide})`,\n  desktop: `(min-width: ${sizes.desktop})`,\n  desktopWide: `(min-width: ${sizes.desktopWide})`,\n};\n","export function pad(n) {\n  return n < 10 ? `0${n} ` : n;\n}\nexport function getYMD(date = new Date()) {\n  const tmpDate = new Date(date);\n  const Y = tmpDate.getFullYear();\n  const M = tmpDate.getMonth() + 1;\n  const D = tmpDate.getDate();\n  return `${Y}-${M}-${D}`;\n}\nexport function addEventListenerList(list, event, fn) {\n  for (let i = 0, len = list.length; i < len; i + 1) {\n    list[i].addEventListener(event, fn, false);\n  }\n}\nexport function removeEventListenerList(list, event) {\n  for (let i = 0, len = list.length; i < len; i + 1) {\n    const fn = list[i].click;\n    list[i].removeEventListener(event, fn);\n  }\n}\nexport const Global =\n  (typeof self === 'object' && self.self === self && self) ||\n  (typeof global === 'object' && global.global === global && global) ||\n  {};\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, { withPrefix, push, replace, navigateTo } from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away,. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n.` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withPrefix,\n  graphql,\n  push,\n  replace,\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n}\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.NODE_ENV !== `production`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","module.exports = {\n  pathPrefix: '/', // Prefix for all links. If you deploy your site to example.com/portfolio your pathPrefix should be \"portfolio\"\n\n  siteName: '杨二', // Navigation and Site Title\n  siteTitle: '杨二', // Navigation and Site Title\n  siteTitleAlt: '杨二的个人博客', // Alternative Site title for SEO\n  siteUrl: 'https://blog.yangerxiao.com', // Domain of your site. No trailing slash!\n  siteLanguage: 'zh', // Language Tag on <html> element\n  siteLogo: '/logos/logo-1024.png', // Used for SEO and manifest\n  siteBanner: '/social/banner.jpg',\n  siteDescription: '记录生活，见证成长。',\n\n  siteFBAppID: '123456789', // Facebook App ID\n  userTwitter: 'minimal', // Twitter Username\n  ogSiteName: 'Tristan Yang', // Facebook Site Name\n\n  // Manifest and Progress color\n  // themeColor: '#3498DB',\n  themeColor: '#090a0b',\n  backgroundColor: '#060809',\n\n  // Settings for typography.js\n  fontFamily: ['Microsoft YaHei', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'sans-serif'],\n  baseFontSize: '18px',\n};\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Link } from \"gatsby\";\nimport { lighten } from 'polished';\nimport Navs from './Navs';\n\nconst Wrapper = styled.header`\n  margin: 0 auto;\n  padding: 0 0.5rem;\n`;\nconst Hero = styled.div`\n  padding-bottom: 1rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding-top: 2rem;\n  .site {\n    text-align: center;\n    margin-bottom: 1rem;\n    .title {\n      padding: 0.6rem 2rem;\n      background: #222;\n      color: #fff;\n      /* border-radius: 1rem; */\n    }\n  }\n  .slogan {\n    color: ${lighten(0.3, '#333')};\n    margin-bottom: 0.4rem;\n  }\n`;\n\nconst Header = props => (\n  <Wrapper>\n    <Hero>\n      <h1 className=\"site\">\n        <Link to=\"/\" className=\"title\">\n          杨二\n        </Link>\n      </h1>\n      <div className=\"slogan\">\n        <span>Machine repeats, Human creates</span>\n      </div>\n    </Hero>\n    <Navs />\n    {props.children}\n  </Wrapper>\n);\n\nexport default Header;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { media } from '../utils/media';\nimport { Global } from '../utils/fun';\n\nconst Circle = styled.div`\n  width: 2rem;\n  height: 2rem;\n  border-radius: 0.5rem;\n  background: #ddd;\n  cursor: pointer;\n  .wrapper {\n    position: relative;\n    &:before,\n    &:after {\n      content: '';\n      position: absolute;\n      top: 0.9rem;\n      left: 0.34rem;\n      width: 0.8rem;\n      height: 0.14rem;\n      background: #444;\n    }\n    &:before {\n      transform: rotate(45deg);\n      left: 0.82rem;\n    }\n    &:after {\n      transform: rotate(-45deg);\n    }\n  }\n`;\nexport default class Backtop extends Component {\n  static propTypes = {\n    offset: PropTypes.number,\n  };\n  static defaultProps = {\n    offset: 800,\n  };\n  constructor(props) {\n    super(props);\n    this.state = {\n      isVisible: false,\n    };\n    this.scrollUp = this.scrollUp.bind(this);\n    this.handleScroll = this.handleScroll.bind(this);\n  }\n  componentDidMount = () => {\n    Global.addEventListener('scroll', this.handleScroll);\n  };\n  componentWillUnmount = () => {\n    Global.removeEventListener('scroll', this.handleScroll);\n  };\n  handleScroll = () => {\n    const doc = document.documentElement;\n    const top = (Global.pageYOffset || doc.scrollTop) - (doc.clientTop || 0);\n    const v = top > this.props.offset;\n    this.setState({\n      isVisible: v,\n    });\n  };\n  scrollUp = () => {\n\n    const c = document.documentElement.scrollTop || document.body.scrollTop;\n    if (c > 0) {\n      Global.requestAnimationFrame(this.scrollUp);\n      Global.scrollTo(0, c - c / 8);\n    }\n  };\n  render() {\n    return (\n      <Circle style={{ visibility: this.state.isVisible ? 'visible' : 'hidden' }} onClick={this.scrollUp}>\n        <div className=\"wrapper\" />\n      </Circle>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { media } from '../utils/media';\n\nconst Container = styled.div`\n  position: fixed;\n  right: ${props => props.right}px;\n  bottom: ${props => props.bottom}px;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  @media ${media.desktop} {\n    right: 16%;\n  }\n  > * {\n    margin: 0.8rem 0;\n  }\n`;\nconst FixContainer = props => {\n  const { right, bottom } = props;\n  return (\n    <Container bottom={bottom} right={right}>\n      {props.children}\n    </Container>\n  );\n};\nFixContainer.propTypes = {\n  right: PropTypes.number,\n  bottom: PropTypes.number,\n};\nFixContainer.defaultProps = {\n  right: 20,\n  bottom: 30,\n};\nexport default FixContainer;\n","import React from 'react';\nimport styled from 'styled-components';\n// import Img from 'gatsby-image';\n\nconst Content = styled.footer`\n  padding: 3rem 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  @media print {\n    .power {\n      display: none;\n    }\n  }\n`;\n\nconst Footer = () => (\n  <Content>\n    <div>&copy; 2018 by Tristan Yang </div>\n    <div className=\"power\">\n      Powered by <a href=\"http://reactjs.org/\">React.js</a> & <a href=\"https://www.gatsbyjs.org/\">Gatsby.js</a>\n    </div>\n  </Content>\n);\n\nexport default Footer;\n","import React, { Component } from 'react';\nimport _ from 'lodash';\nimport styled from 'styled-components';\nimport { ellipsis } from 'polished';\nimport { Global } from '../utils/fun';\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  z-index: 999;\n  .mask {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    display: ${props => (props.expand ? 'block' : 'none')};\n  }\n  button {\n    position: relative;\n    border-radius: 50%;\n    width: 2rem;\n    height: 2rem;\n    border: 1px solid #ddd;\n    padding: 0.2rem;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    background: #eee;\n    &:focus {\n      outline: none;\n    }\n    &:after {\n      content: '';\n      position: absolute;\n      width: 0.6rem;\n      height: 0.7rem;\n      border-left: 2px solid #666;\n      border-bottom: 2px solid #666;\n      top: 0.4rem;\n      left: 0.8rem;\n    }\n  }\n  .history {\n    z-index: 999;\n    padding: 0.6rem;\n    margin-bottom: 0.5rem;\n    border: 1px solid #ddd;\n    background: #eee;\n    border-radius: 0.5rem;\n    display: ${props => (props.expand ? 'block' : 'none')};\n    max-height: 70vh;\n    overflow: scroll;\n    ul {\n      list-style: none;\n      margin: 0.4rem 0;\n      li {\n        padding: 0;\n        margin: 0.4rem 0;\n        a {\n          ${ellipsis('14rem')};\n        }\n      }\n    }\n  }\n`;\nexport default class ReadHistory extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      expand: false,\n    };\n    this.hisList = React.createRef();\n  }\n  componentDidMount() {\n    let histories = Global.JSON.parse(Global.localStorage.getItem('read.histories')) || [];\n    if (this.props.title) {\n      const { title, url } = this.props;\n      histories.push({ title, url, ts: new Date().getTime() });\n      histories = _.sortBy(histories, ['ts']);\n      histories = _.uniqBy(histories, 'url').slice(-10);\n      Global.localStorage.setItem('read.histories', Global.JSON.stringify(histories));\n    }\n    const listHtml = histories.map(\n      history =>\n        `<li>\n        <a href=${history.url}>${history.title}</a>\n      </li>`\n    );\n\n    this.hisList.current.innerHTML = listHtml.join('');\n  }\n  onClickHandler = () => {\n    const { expand } = this.state;\n    this.setState({\n      expand: !expand,\n    });\n  };\n  render() {\n    return (\n      <Container expand={this.state.expand}>\n        <div className=\"mask\" onClick={this.onClickHandler} onKeyDown={this.onClickHandler} />\n        <div className=\"history\">\n          <ul ref={this.hisList} />\n        </div>\n        <button onClick={this.onClickHandler} />\n      </Container>\n    );\n  }\n}\n","import React from 'react';\nimport styled from 'styled-components';\nimport Header from './Header';\nimport Backtop from './Backtop';\nimport FixContainer from './FixContainer';\nimport Footer from './Footer';\nimport ReadHistory from './ReadHistory';\nimport { media } from '../utils/media';\n\nconst Grid = styled.div`\n  margin: 0 auto;\n  padding: 0;\n  min-height: 60vh;\n`;\n\nconst Content = styled.div`\n  box-shadow: 0 4px 120px rgba(0, 0, 0, 0.1);\n  border-radius: 1rem;\n  padding: 2rem 1rem;\n  overflow: hidden;\n  margin: 0 auto;\n\n  @media ${media.tablet} {\n    padding: 2.6rem;\n  }\n  @media ${media.desktop} {\n    padding: 3rem 6rem;\n    max-width: 75%;\n  }\n  background-color: ${props => props.theme.bg};\n`;\n\nconst Wrapper = props => (\n  <Grid>\n    <Header />\n    <Content>{props.children}</Content>\n    <FixContainer>\n      {props.title && <ReadHistory title={props.title} url={props.url} />}\n      {props.toc}\n      <Backtop />\n    </FixContainer>\n    <Footer />\n  </Grid>\n);\n\nexport default Wrapper;\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst Wrapper = styled.div`\n  margin-right: 0.4rem;\n  margin-bottom: 0.2rem;\n  border-radius: 0.6rem;\n  font-size: 1rem;\n  color: white;\n  background: #333;\n  padding: 0.3rem 0.6rem;\n  cursor: pointer;\n  &:active {\n    transform: scale(1.1);\n    transition: transform 0.5s;\n  }\n`;\n\nconst Button = props => <Wrapper className=\"btn\">{props.children}</Wrapper>;\n\nexport default Button;\n","import React, { Component } from 'react';\nimport styled from 'styled-components';\nimport { Link } from \"gatsby\";\nimport { media } from '../utils/media';\nimport { Global } from '../utils/fun';\nimport Button from './Button';\n\nconst Container = styled.div`\n  display: flex;\n  align-items: space-between;\n  margin: 0 auto;\n  margin-bottom: 1.5rem;\n  margin-top: ${props => (props.isBottom ? '2rem' : 0)};\n  ${props => (props.isBottom ? 'margin-bottom:0' : '')};\n  max-width: 90%;\n\n  @media ${media.tablet} {\n    max-width: ${props => (props.isBottom ? '80%' : '55%')};\n  }\n  @media ${media.desktop} {\n    max-width: ${props => (props.isBottom ? '60%' : '30%')};\n  }\n\n  a {\n    flex: 1;\n    text-align: center;\n    margin: 0 0.2rem;\n    .btn {\n      margin: 0 auto;\n    }\n    &.curr {\n      .btn {\n        background: #666;\n      }\n\n      position: relative;\n      &:after,\n      &:before {\n        top: 100%;\n        left: 50%;\n        border: solid transparent;\n        content: ' ';\n        height: 0;\n        width: 0;\n        position: absolute;\n        pointer-events: none;\n      }\n\n      &:after {\n        border-color: rgba(136, 183, 213, 0);\n        border-top-color: #666;\n        border-width: 0.6rem;\n        margin-left: -0.6rem;\n      }\n    }\n  }\n`;\n\nexport default class Navs extends Component {\n  constructor(props) {\n    super(props);\n    this.container = React.createRef();\n  }\n\n  componentDidMount() {\n    const pathName = Global.location.pathname;\n\n    const links = this.container.current.querySelectorAll('a');\n    links.forEach(link => {\n      if (pathName.indexOf(link.pathname) === 0) {\n        link.classList.add('curr');\n      }\n    });\n  }\n\n  render() {\n    const navs = [\n      {\n        to: '/cates',\n        title: '分类',\n      },\n      {\n        to: '/archives',\n        title: '归档',\n      },\n      {\n        to: '/tags',\n        title: '标签',\n      },\n      {\n        to: '/about',\n        title: '关于',\n      },\n    ];\n    const { isBottom } = this.props;\n    return (\n      <div ref={this.container} className=\"wrapper\">\n        <Container isBottom={isBottom}>\n          {navs.map(nav => (\n            <Link to={nav.to} key={nav.to}>\n              <Button>{nav.title}</Button>\n            </Link>\n          ))}\n        </Container>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst Line = styled.div`\n  display: flex;\n  flex-wrap: nowrap;\n  overflow-x: auto;\n  white-space: nowrap;\n  font-size: 0.6rem;\n  color: ${props => props.theme.light};\n  ${props => props.sectionTitle && 'display:block'};\n  ${props => props.sectionTitle && 'margin-top: -.6rem'};\n  ${props => props.sectionTitle && 'margin-bottom: 2rem'};\n  ${props => props.sectionTitle && 'text-align: center'};\n  -webkit-overflow-scrolling: touch;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  > span {\n    padding: 0.2rem 0.3rem;\n    border: 1px solid #eee;\n    margin-right: 0.2rem;\n    margin-bottom: 0.2rem;\n    border-radius: 0.2rem;\n    .tags {\n      margin-left: 0.5rem;\n      .tag {\n        position: relative;\n        margin-right: 0.6rem;\n        &:before {\n          content: '#';\n          position: absolute;\n          left: -0.4rem;\n        }\n      }\n    }\n  }\n`;\n\nconst Subline = props => <Line sectionTitle={props.sectionTitle}>{props.children}</Line>;\n\nexport default Subline;\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathname(location.pathname)\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n"],"sourceRoot":""}