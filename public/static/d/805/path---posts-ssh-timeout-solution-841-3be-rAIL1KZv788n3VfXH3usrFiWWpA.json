{"pageContext":{"slug":"/posts/ssh-timeout-solution","html":"<p><img src=\"/images/ssh.png\" alt=\"ssh\"></p>\n<h1 id=\"问题\"><a href=\"#%E9%97%AE%E9%A2%98\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>问题</h1>\n<p>SSH登录远程服务器(Centos 7)，有时会遇到这样的问题：一段时间没有操作，会自动断开连接。</p>\n<h1 id=\"解决\"><a href=\"#%E8%A7%A3%E5%86%B3\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>解决</h1>\n<p>通过设置<code class=\"language-text\">sshd_config</code>的<code class=\"language-text\">ServerAliveInterval</code>和<code class=\"language-text\">ClientAliveInterval</code>，可以达到目的。默认情况下，这两个设置项没有或者值为0，也是导致我们连接长时间不响应就断开的原因。</p>\n<p>首先，确认自己有root权限，然后：</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\">\n      <pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># vim /etc/ssh/sshd_config</span></code></pre>\n      </div>\n<p>找到<code class=\"language-text\">ClientAliveInterval</code>，如果没有，就添加，将其做如下设置（单位：秒）</p>\n<div class=\"gatsby-highlight\" data-language=\"text\">\n      <pre class=\"language-text\"><code class=\"language-text\">ClientAliveInterval 60</code></pre>\n      </div>\n<p>重启sshd服务：</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\">\n      <pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> systemctl restart sshd.service</code></pre>\n      </div>\n<p>至此，每隔60秒，服务器会给客户端发送一个消息，确认客户端还活着。如果收不到响应，就会断开连接，所以需要注意电脑不要设置自动休眠时间，至少不要设置太短。</p>\n<h1 id=\"参考\"><a href=\"#%E5%8F%82%E8%80%83\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>参考</h1>\n<p><a href=\"https://www.ehowstuff.com/prevent-ssh-timing-out/\">How to Prevent SSH Timing out from Server and Client</a></p>","frontmatter":{"title":"SSH远程连接服务器超长待机设置","date":"2017-04-29T06:00:41.000Z","category":"技术","tags":["运维","linux","shell","备忘"],"cover":null},"excerpt":"问题 SSH登录远程服务器(Centos 7)，有时会遇到这样的问题：一段时间没有操作，会自动断开连接。 解决 通过设置 的 和 ，可以达到目的。默认情况下，这两个设置项没有或者值为0，也是导致我们连接长时间不响应就断开的原因。 首先，确认自己有root…","tableOfContents":"<ul>\n<li><a href=\"/posts/ssh-timeout-solution/#%E9%97%AE%E9%A2%98\">问题</a></li>\n<li><a href=\"/posts/ssh-timeout-solution/#%E8%A7%A3%E5%86%B3\">解决</a></li>\n<li><a href=\"/posts/ssh-timeout-solution/#%E5%8F%82%E8%80%83\">参考</a></li>\n</ul>","prev":{"fields":{"slug":"/posts/manage-money-matters"},"html":"<p>往财富蓄水池蓄水的方式有三种：用手，用脑，用钱。</p>\n<p>“挣”钱是在做加法，消费支出是做减法，“赚”钱则是做指数运算。</p>\n<p>储蓄，是钱生钱的第一步。</p>\n<p>如果你喜欢把“钱”紧紧抓在手里，财富反而会离你而去，就像手心捧起的水一样。</p>\n<p>货币并不等于全部的财富，富人的财富多以股权、债权，甚至房产等实物的形式存在。</p>\n<p>如果你的财富绝大部分以货币的形式存在，就可能会错过很多财富增值的机会。合理管理财富，第一步就是不能把“钱”（货币）看的太重。更何况货币还会贬值，还记得曾经的“万元户”吗。</p>\n<p>财富管理的最低要求就是跑赢通胀（注意不是跑赢CPI）：</p>\n<ul>\n<li>在满足日常开支及为突发事件储备的前提条件下，应当尽可能地持有可以带给你回报的资产，而不是持有货币（特别是现金）。</li>\n<li>你也可以将货币换成“东西”。这类“东西”必须容易保存（折旧年限长）和变现（可迅速达成交易且费率低），且该种“东西”的劳动生产率无法显著提高。这一领域比较典型的代表有：房产、贵金属、某些收藏及纪念品。</li>\n</ul>\n<p>时间是财富的载体，我们在日常生活中，对开销的理解，多以金钱来量化，很少有人会把时间也计算在内。不少人小心翼翼省下一笔笔物质财富，却浪费了大把时间，这些时间本可以丰富他们的大脑，提高劳动报酬率，创造更多财富。所以，尽量花时间去武装头脑，而不是为了节约开支而浪费大量时间。</p>\n<p>课本知识不是全部，如诚实守信等品格、人际交往能力、言辞谈吐技巧、组织管理协调，乃至风险意识、商业眼光等，这些都需要在社会大染缸里摸爬滚打。知识面的拓宽、价值观提升后，会潜移默化帮助我们抓住更多机会。</p>\n<p>要达到财务自由状态，财富必然有很大一部分以资产的形式存在。</p>\n<p>只有当财产性收入远大于生活开支，并且足以抵抗一定的事故性风险，才敢说是财务自由。</p>\n<p>消费型时间享受了就没有然后了，投资型时间可能在未来给予你汇报。</p>\n<p>资产负债表：</p>\n<ul>\n<li>资产：我们所拥有的物质财富，如金钱、房产、汽车、股票等</li>\n<li>负债：我们欠了别人的，需要到期偿还的，如房贷、信用卡欠款、亲朋好友借款等。</li>\n<li>股东权益：资产减去负债后的净额，即我们实际所拥有的财富。</li>\n</ul>\n<p>容易变现的资产称为流动资产，反之为非流动性资产；近期要偿还的负债称为流动负债，反之为非流动负债。</p>\n<p>只有短期用不到的资金，才能置换成股票等非流动性资产，否则就是“以短持长”，以短持长是资产配置时应当尽量避免的情况。</p>\n<p>表外资产：</p>\n<ul>\n<li>时间（生命）</li>\n<li>劳动能力</li>\n<li>亲朋好友的资助</li>\n</ul>\n<p>表外负债：</p>\n<ul>\n<li>疾病</li>\n<li>赡养老人、养育小孩</li>\n<li>人情，突发性不利事件：失火、被盗等</li>\n</ul>\n<p>收益与风险，只盯着收益叫贪婪，只盯着风险叫恐惧，两者都不可取。</p>\n<p>投资者能做的，是随着时间推移预估各种可能性，然后选择进入还是逃离这个机会（风险）。</p>\n<p>基本面：各种宏观、微观分析，偏向事物的本质。</p>\n<p>技术面：认为事物的本质都已经包含在价格波动中，并用历史价格波动去预测未来价格走势。</p>\n<p>在正确的方向上慢行：人生只有一次；重视时间的价值；提高劳动报酬率；收入减去开支等于节余（加减法）；节余的部分进行财富管理（指数运算）；各类资产的期限、风险、收益。注意保持收入大于支出，管理好节余部分的财富，让其保值增值，让钱生钱，财富蓄水池就是这么简单。</p>","frontmatter":{"title":"阅读笔记《理财不用懂太多》","date":"2017-06-01T03:12:08.000Z","category":"阅读笔记","tags":["理财","生活","成长","阅读"],"cover":null},"tableOfContents":"","excerpt":"…"},"next":{"fields":{"slug":"/posts/new-web-features-in-safari-10-1"},"html":"<p><img src=\"https://zerosoul.github.io/2017/03/31/new-web-features-in-safari-10-1/qiaobusi.jpg\" alt=\"乔布斯与HTML5\"></p>\n<p>伴随着 iOS 10.3 和 macOS Sierra 10.12.4 的更新，一个新版本的Safari也随之而来，其中有许多值得一提的web新特性让前端工程师激动不已，恩，值得唠唠。</p>\n<p>这次新版本的发布不仅让web更为强大，同时也简化了当前代码的维护，使得web开发更得心应手。前端工程师利用这些改进能够给用户带来更好的体验，想想都有些小激动呢。</p>\n<p>好了，废话不多说，下面看看都有哪些新特性：</p>\n<h1 id=\"fetch\"><a href=\"#fetch\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Fetch</h1>\n<p>Fetch是<code class=\"language-text\">XMLHttpRequest</code>的改进版本。它能够以更简洁的方式异步获取资源，不仅如此，它还利用ECMAScript 2015(ES6)中的<a href=\"http://www.ecma-international.org/ecma-262/6.0/#sec-promise-objects\">Promises</a>,简化和链式响应操作。相对于<code class=\"language-text\">XMLHttpRequest</code>，Fetch API更简洁，更具有可读性，从而也就更易维护。  </p>\n<div class=\"gatsby-highlight\" data-language=\"js\">\n      <pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> jsonURLEndpoint <span class=\"token operator\">=</span> <span class=\"token string\">\"https://svn.webkit.org/repository/webkit/trunk/Source/WebCore/features.json\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span>jsonURLEndpoint<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n\n    method<span class=\"token punctuation\">:</span> <span class=\"token string\">\"get\"</span>\n\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n    response<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>json<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>json<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">catch</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n      </div>\n<p>想了解更多请参考：<a href=\"https://fetch.spec.whatwg.org/\">Fetch标准</a></p>\n<h1 id=\"css栅格css-grid-layout\"><a href=\"#css%E6%A0%85%E6%A0%BCcss-grid-layout\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CSS栅格(CSS Grid Layout)</h1>\n<p>CSS栅格基于容器的行与列，给前端工程师带来一种强大的新布局方式。通过CSS提供的这种可控的页面布局工具，可以针对不同视口做出复杂的平面排版设计。以前利用CSS中的奇淫技巧才能实现的打印样式，像浮动和Flexbox，现在可以通过CSS栅格轻松实现。</p>\n<p>想了解更多请参考：<a href=\"https://webkit.org/blog/7434/css-grid-layout-a-new-layout-module-for-the-web/\">CSS栅格系统: 一种新的布局方式</a></p>\n<h1 id=\"ecmascript-2016--ecmascript-2017\"><a href=\"#ecmascript-2016--ecmascript-2017\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ECMAScript 2016 &#x26; ECMAScript 2017</h1>\n<p>ECMAScript 2016 和 ECMAScript 2017是Javascript的最新语言标准，Safari 10.1新增了一些支持。当然，对ECMAScript 2016只是做了些微小的工作，毕竟2016版的标准由来已久，但2017版的标准却带来了不小的改进。</p>\n<p><a href=\"https://www.ecma-international.org/ecma-262/7.0/\">ECMAScript 2016</a>带来的改进包括：</p>\n<ul>\n<li>求幂运算符（<code class=\"language-text\">x ** y</code>可以替代<code class=\"language-text\">Math.pow(x,y)</code>，更简洁了！）</li>\n<li><code class=\"language-text\">Array.prototype.includes</code>（与<code class=\"language-text\">Array.prototype.indexOf</code>类似，只不过能对<code class=\"language-text\">NaN</code>做出识别）</li>\n</ul>\n<p><a href=\"https://tc39.github.io/ecma262/\">ECMAScript 2017</a>带来了:</p>\n<ul>\n<li><code class=\"language-text\">async</code>和<code class=\"language-text\">await</code>语法，</li>\n<li>共享内存对象，包括原子类型（Atomics）和（缓冲数组）Shared Array Buffers</li>\n<li><code class=\"language-text\">String.prototype.padStart</code>,<code class=\"language-text\">String.prototype.padEnd</code>,<code class=\"language-text\">String.prototype.values</code>和<code class=\"language-text\">String.prototype.entries</code></li>\n<li>允许在函数参数列表和调用中使用逗号</li>\n</ul>\n<h1 id=\"indexdb-20\"><a href=\"#indexdb-20\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>IndexDB 2.0</h1>\n<p>新版本的IndexDB有了更大的提升。它更快，与标准更兼容，并且支持IndexDB 2.0的新特性。IndexedDB 2.0加入了对二进制数据的支持，比如索引键，这样就不用再将其序列化为字符串或者对象数组。不仅如此，还有对象存储和索引重命名，<code class=\"language-text\">IDBObjectStore</code>的<code class=\"language-text\">getKey()</code>和<code class=\"language-text\">IDBIndex</code>的<code class=\"language-text\">getPrimaryKey()</code>。</p>\n<p>想了解更多请参考文档：<a href=\"https://www.w3.org/TR/IndexedDB-2/\">Indexed Database API 2.0</a></p>\n<h1 id=\"自定义元素custom-elements\"><a href=\"#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%85%83%E7%B4%A0custom-elements\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>自定义元素(Custom Elements)</h1>\n<p>前端工程师不用再依赖Javascript框架来创建可复用组件啦，自定义元素可以轻松做到。和那些内置元素一样，自定义元素也可以通过特性（attributes）设置和获取值，并且还可以通过回调函数响应用户的交互。</p>\n<p>了解更多请参考：<a href=\"https://webkit.org/blog/7027/introducing-custom-elements/\">自定义元素简介</a></p>\n<h1 id=\"游戏手柄（gamepad）\"><a href=\"#%E6%B8%B8%E6%88%8F%E6%89%8B%E6%9F%84%EF%BC%88gamepad%EF%BC%89\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>游戏手柄（Gamepad）</h1>\n<p>Gamepad API 让Web App使用游戏手柄成为可能。在macOS中任何无需通过额外驱动就可以使用的游戏手柄，Web App都可以完美兼容，当然，iOS中的MFi游戏手柄也同样支持。</p>\n<p>了解更多请参考：<a href=\"https://www.w3.org/TR/gamepad/\">Gamepad规范</a></p>\n<h1 id=\"指针锁\"><a href=\"#%E6%8C%87%E9%92%88%E9%94%81\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>指针锁</h1>\n<p>macOS中的Safari通过在元素中使用指针锁，可以让鼠标指针隐藏，同时还可以获取鼠标移动的数据。这个在开发Web游戏中特别有用。指针锁还扩展了<code class=\"language-text\">MouseEvents</code>接口，新增了<code class=\"language-text\">movementX</code>和<code class=\"language-text\">movementY</code>两个属性，即使鼠标移出了可视区域，依然能获取流信息。鼠标锁于某个元素时，Safari还会显示提示栏通知用户鼠标指针已隐藏。第一次按<code class=\"language-text\">ESC</code>键，会关闭提示栏，再次按<code class=\"language-text\">ESC</code>，将会释放指针锁。</p>\n<p>更多信息请移步：<a href=\"https://www.w3.org/TR/pointerlock/\">Pointer Lock 规范</a></p>\n<h1 id=\"全屏下的键盘输入\"><a href=\"#%E5%85%A8%E5%B1%8F%E4%B8%8B%E7%9A%84%E9%94%AE%E7%9B%98%E8%BE%93%E5%85%A5\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>全屏下的键盘输入</h1>\n<p>WebKit通常会限制在全屏模式下的键盘输入，随着macOS Safari 10.1的更新，这一限制已去掉。</p>\n<h1 id=\"交互式的表单验证\"><a href=\"#%E4%BA%A4%E4%BA%92%E5%BC%8F%E7%9A%84%E8%A1%A8%E5%8D%95%E9%AA%8C%E8%AF%81\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>交互式的表单验证</h1>\n<p>在旧浏览器时代，你知道我指的是哪一款o(╯□╰)o，表单验证一直是件头痛的事情，后来HTML5引入了一些表单元素的特性，解决了一些常见的验证需求，比如必填，约束数据类型等。Safari 10.1更进一步，引入了<code class=\"language-text\">checkValidity()</code>和<code class=\"language-text\">reportValidity()</code>两个扩展接口，让提示更标准化，大大减少了Javascript代码。</p>\n<p>了解更多：<a href=\"https://webkit.org/blog/7099/html-interactive-form-validation/\">HTML交互式表单验证</a></p>\n<h1 id=\"输入事件\"><a href=\"#%E8%BE%93%E5%85%A5%E4%BA%8B%E4%BB%B6\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>输入事件</h1>\n<p>输入事件简化了富文本输入的实现。新增的<code class=\"language-text\">beforeinput</code>监听并截获默认的输入行为，并通过新特性强化了该事件。</p>\n<p>了解更多：<a href=\"https://webkit.org/blog/7358/enhanced-editing-with-input-events/\">使用输入事件增强编辑体验</a></p>\n<h1 id=\"html5的下载特性\"><a href=\"#html5%E7%9A%84%E4%B8%8B%E8%BD%BD%E7%89%B9%E6%80%A7\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>HTML5的下载特性</h1>\n<p><code class=\"language-text\">a</code>标签中的<code class=\"language-text\">download</code>特性标识了是个可下载的链接，用户点击后往往会直接下载资源而非跳转新页面。不仅如此，前端工程师也可以完全使用Javascript来创建blob数据当做文件资源来下载。如果<code class=\"language-text\">download</code>指定了值，那么就相当于重命名了下载文件的名字。</p>\n<div class=\"gatsby-highlight\" data-language=\"html\">\n      <pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>https://webkit.org/favicon.ico<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">download</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>webkit-favicon.ico<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Download Favicon<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span></code></pre>\n      </div>\n<p>了解更多：<a href=\"https://html.spec.whatwg.org/multipage/semantics.html#downloading-resources\">HTML5中下载资源</a></p>\n<h1 id=\"html媒体捕捉\"><a href=\"#html%E5%AA%92%E4%BD%93%E6%8D%95%E6%8D%89\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>HTML媒体捕捉</h1>\n<p>在新版的Safari中，HTML媒体捕捉扩展了其捕捉类型，可以使用设备上的相机和麦克来获取用户输入。</p>\n<div class=\"gatsby-highlight\" data-language=\"html\">\n      <pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>imageCapture<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>file<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">accept</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>image/*<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">capture</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>videoCapture<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>file<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">accept</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>video/*<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">capture</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>audioCapture<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>file<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">accept</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>audio/*<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">capture</span><span class=\"token punctuation\">></span></span>`</code></pre>\n      </div>\n<p>更多细节请移步：<a href=\"https://www.w3.org/TR/html-media-capture/\">HTML媒体捕捉</a></p>\n<h1 id=\"改进了code-classlanguage-textfixedcode和code-classlanguage-textstickycode元素的定位\"><a href=\"#%E6%94%B9%E8%BF%9B%E4%BA%86code-classlanguage-textfixedcode%E5%92%8Ccode-classlanguage-textstickycode%E5%85%83%E7%B4%A0%E7%9A%84%E5%AE%9A%E4%BD%8D\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>改进了<code class=\"language-text\">fixed</code>和<code class=\"language-text\">sticky</code>元素的定位</h1>\n<p>当捏合放大（pinch-to-zoom）时，固定和粘连元素的定位表现有了提升，这得归功于<strong>视觉窗口</strong>(visual viewports)。有了视觉窗口，输入元素获取焦点时不再会禁用固定和粘连元素的定位了。</p>\n<h1 id=\"改进的web调试\"><a href=\"#%E6%94%B9%E8%BF%9B%E7%9A%84web%E8%B0%83%E8%AF%95\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>改进的Web调试</h1>\n<p>WebKit新增了针对Web Worker的调试支持，同时对正在调试和即将执行的语句高亮，这样，就能清楚看出哪条代码即将执行，在一些控制流程非常复杂或者多条语句写在了一行中，这种改进的体验非常棒。</p>\n<p>更详细的介绍请移步：<a href=\"https://webkit.org/blog/7219/javascript-debugging-improvements/\">Javascript调试改进</a></p>\n<h1 id=\"css全范围色彩（wide-gamut-colors）\"><a href=\"#css%E5%85%A8%E8%8C%83%E5%9B%B4%E8%89%B2%E5%BD%A9%EF%BC%88wide-gamut-colors%EF%BC%89\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CSS全范围色彩（Wide-Gamut Colors）</h1>\n<p>现在的设备能够支持色域更广的颜色。随着新版本Safari的发行，前端工程师能够扩展出更多的色彩想象力，包括Display P3色彩域。通过<code class=\"language-text\">color-gamut</code>媒体查询可以测试出显示器是否支持该特性，然后用CSS新增的<code class=\"language-text\">color()</code>函数，定义出新的颜色。</p>\n<div class=\"gatsby-highlight\" data-language=\"css\">\n      <pre class=\"language-css\"><code class=\"language-css\"><span class=\"token atrule\"><span class=\"token rule\">@media</span> <span class=\"token punctuation\">(</span><span class=\"token property\">color-gamut</span><span class=\"token punctuation\">:</span>p3<span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token selector\">.brightred</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> <span class=\"token function\">color</span><span class=\"token punctuation\">(</span>display-p3 1.0 0 0<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n      </div>\n<p>更多请访问：<a href=\"https://drafts.csswg.org/css-color/\">CSS颜色模块标准</a></p>\n<h1 id=\"后记\"><a href=\"#%E5%90%8E%E8%AE%B0\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>后记</h1>\n<p>这篇文章翻译自<a href=\"https://webkit.org/blog/7477/new-web-features-in-safari-10-1/\">New Web Features in Safari 10.1</a>，内容略有删减，有些特性我也没搞懂，比如<code class=\"language-text\">color-gamut</code>，所以可能会有词不达意的地方，望见谅。</p>","frontmatter":{"title":"你可能不知道的Safari 10.1(iOS 10.3)Web开发新特性","date":"2017-03-31T09:31:37.000Z","category":"它山之石","tags":["前端","翻译","html5"],"cover":"https://zerosoul.github.io/2017/03/31/new-web-features-in-safari-10-1/qiaobusi.jpg"},"tableOfContents":"<ul>\n<li><a href=\"/posts/new-web-features-in-safari-10-1/#fetch\">Fetch</a></li>\n<li><a href=\"/posts/new-web-features-in-safari-10-1/#css%E6%A0%85%E6%A0%BCcss-grid-layout\">CSS栅格(CSS Grid Layout)</a></li>\n<li><a href=\"/posts/new-web-features-in-safari-10-1/#ecmascript-2016--ecmascript-2017\">ECMAScript 2016 &#x26; ECMAScript 2017</a></li>\n<li><a href=\"/posts/new-web-features-in-safari-10-1/#indexdb-20\">IndexDB 2.0</a></li>\n<li><a href=\"/posts/new-web-features-in-safari-10-1/#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%85%83%E7%B4%A0custom-elements\">自定义元素(Custom Elements)</a></li>\n<li><a href=\"/posts/new-web-features-in-safari-10-1/#%E6%B8%B8%E6%88%8F%E6%89%8B%E6%9F%84%EF%BC%88gamepad%EF%BC%89\">游戏手柄（Gamepad）</a></li>\n<li><a href=\"/posts/new-web-features-in-safari-10-1/#%E6%8C%87%E9%92%88%E9%94%81\">指针锁</a></li>\n<li><a href=\"/posts/new-web-features-in-safari-10-1/#%E5%85%A8%E5%B1%8F%E4%B8%8B%E7%9A%84%E9%94%AE%E7%9B%98%E8%BE%93%E5%85%A5\">全屏下的键盘输入</a></li>\n<li><a href=\"/posts/new-web-features-in-safari-10-1/#%E4%BA%A4%E4%BA%92%E5%BC%8F%E7%9A%84%E8%A1%A8%E5%8D%95%E9%AA%8C%E8%AF%81\">交互式的表单验证</a></li>\n<li><a href=\"/posts/new-web-features-in-safari-10-1/#%E8%BE%93%E5%85%A5%E4%BA%8B%E4%BB%B6\">输入事件</a></li>\n<li><a href=\"/posts/new-web-features-in-safari-10-1/#html5%E7%9A%84%E4%B8%8B%E8%BD%BD%E7%89%B9%E6%80%A7\">HTML5的下载特性</a></li>\n<li><a href=\"/posts/new-web-features-in-safari-10-1/#html%E5%AA%92%E4%BD%93%E6%8D%95%E6%8D%89\">HTML媒体捕捉</a></li>\n<li><a href=\"/posts/new-web-features-in-safari-10-1/#%E6%94%B9%E8%BF%9B%E4%BA%86code-classlanguage-textfixedcode%E5%92%8Ccode-classlanguage-textstickycode%E5%85%83%E7%B4%A0%E7%9A%84%E5%AE%9A%E4%BD%8D\">改进了&#x3C;code class=\"language-text\">fixed&#x3C;/code>和&#x3C;code class=\"language-text\">sticky&#x3C;/code>元素的定位</a></li>\n<li><a href=\"/posts/new-web-features-in-safari-10-1/#%E6%94%B9%E8%BF%9B%E7%9A%84web%E8%B0%83%E8%AF%95\">改进的Web调试</a></li>\n<li><a href=\"/posts/new-web-features-in-safari-10-1/#css%E5%85%A8%E8%8C%83%E5%9B%B4%E8%89%B2%E5%BD%A9%EF%BC%88wide-gamut-colors%EF%BC%89\">CSS全范围色彩（Wide-Gamut Colors）</a></li>\n<li><a href=\"/posts/new-web-features-in-safari-10-1/#%E5%90%8E%E8%AE%B0\">后记</a></li>\n</ul>","excerpt":"伴随着 iOS 10.3 和 macOS Sierra 10.12.4 的更新，一个新版本的Safari也随之而来，其中有许多值得一提的web新特性让前端工程师激动不已，恩，值得唠唠。 这次新版本的发布不仅让web更为强大，同时也简化了当前代码的维护，使得web…"}}}