{"pageContext":{"group":[{"node":{"fields":{"slug":"/posts/php-notes"},"html":"","frontmatter":{"title":"备忘：PHP","date":"2018-02-19T12:32:58.000Z","category":"技术","tags":["php","备忘","面试"],"cover":null},"tableOfContents":"","excerpt":""}},{"node":{"fields":{"slug":"/posts/php-timezone-setting"},"html":"<p><code class=\"language-text\">date(&quot;Y-m-d G:i T&quot;,time())</code> 取出来的时间和本地时间总是差8个小时，系统明明是中国标准时（GMT+8），最后终于找到了问题所在：</p>\n<p>原来从<code class=\"language-text\">php5.1.0</code>开始，<code class=\"language-text\">php.ini</code>里加入了<code class=\"language-text\">date.timezone</code>这个选项，默认情况下是关闭的，所以通过PHP获取的时间默认都是格林威治标准时间，和我们的时间（北京时间）差了正好8个小时，有以下两种方法可以恢复正常的时间：</p>\n<ul>\n<li>一劳永逸，直接修改<code class=\"language-text\">php.ini</code>：打开<code class=\"language-text\">php.ini</code>，查找<code class=\"language-text\">date.timezone</code>，去掉注释，<strong>=</strong>后面加上中国时区<code class=\"language-text\">Asia/Shanghai</code>(或者<code class=\"language-text\">PRC</code>)，重启http服务（nginx或者Apache）。</li>\n<li>如果不想修改<code class=\"language-text\">php.ini</code>，则在关于时间的初始化的语句的上面加上<code class=\"language-text\">date_default_timezone_set(&#39;PRC&#39;)</code>;</li>\n</ul>\n<p>参考：</p>\n<ul>\n<li><a href=\"http://php.net/manual/en/timezones.php\">PHP支持的时区列表</a></li>\n</ul>","frontmatter":{"title":"PHP时间总是差8小时问题","date":"2017-06-02T06:00:41.000Z","category":"技术","tags":["php","timezone","备忘"],"cover":null},"tableOfContents":"","excerpt":" 取出来的时间和本地时间总是差8个小时，系统明明是中国标准时（GMT+8），最后终于找到了问题所在： 原来从 开始， 里加入了 这个选项，默认情况下是关闭的，所以通过PHP获取的时间默认都是格林威治标准时间，和我们的时间（北京时间）差了正好…"}}],"pathPrefix":"tags/php","first":true,"last":true,"index":1,"pageCount":1,"additionalContext":{"total":2,"tag":"php"}}}